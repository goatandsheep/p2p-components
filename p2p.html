<link rel="import" href="../polymer/polymer-element.html">

<dom-module id="p2p">
    <template>
        <slot ></slot>
    </template>
    <script src="torFill.js"></script>
    <script>
        class P2P extends Polymer.Element {
            static get is() {
                return "p2p";
            }
            static get properties() {
                return {
                    href: {
                        type: String
                    },
                    src: {
                        type: String,
                        computed: '_torGet(hash)'
                    },
                    elemType: {
                        type: String,
                        value: "div"
                    },
                    hash: {
                        type: String
                    }
                }
            }
            /**
             * Fetches file using torFill, returns blob URL
             * @param {String} hash - hash of the file to be downloaded
             * @returns {String}
             */
            _torGet(hash) {
                // TODO: fetch file and insert blob
                return hash
            }
        }
        customElements.define(P2P.is, P2P);

        // create an instance with createElement:
        var el1 = document.createElement('my-element');

        // ... or with the constructor:
        var el2 = new MyElement();
    </script>
</dom-module>
