<link rel="import" href="../polymer/polymer-element.html">

<dom-module id="script-p2p">
    <template>
        <script type="text/javascript" src="[[src]]"></script>
    </template>
    <script src="torFill.js"></script>
    <script>
        class P2PScript extends Polymer.Element {
            static get is() {
                return "script-p2p";
            }
            static get properties() {
                return {
                    src: {
                        type: String,
                        computed: '_torGet(hash)'
                    },
                }
            }
            /**
             * Fetches file using torFill, returns blob URL
             * @param {String} hash - hash of the file to be downloaded
             * @returns {String}
             */
            _torGet(hash) {
                // TODO: fetch file and insert blob
                return hash
            }
        }
        customElements.define(P2PScript.is, P2PScript);

        // create an instance with createElement:
        var el1 = document.createElement('my-element');

        // ... or with the constructor:
        var el2 = new MyElement();
    </script>
</dom-module>
